<[foreach]>
<tr>
  <td data-href="/admin/groups/<[id]>">
    <strong><[group_id]></strong></td>
  <td data-href="/admin/groups/<[id]>"><[group_name]></td>
  <td data-href="/admin/groups/<[id]>"><[group_description]></td>
</tr>
<[/foreach]>

<script>
  $(document).ready(function () {
    $(".clickable-row").css("cursor", "pointer");
    $(".clickable-row").click(function () {
      window.location = $(this).data("href");
    });
  });
</script>

<script>
  $(document).ready(function () {
    let delid = ''; //global variable
    $('#delete_confirmation').on('show.bs.modal', function (e) {
      delid = $(e.relatedTarget).data('id'); //fetch value of `data-id` attribute load it to global variable
    });

    $('#remove-button').click(function () {
      $.ajax({
        url: delid,
        type: 'POST',
        success: function (data) {
          $('#delete_confirmation').modal('hide');
          let response = JSON.parse(data);
          if (response['success']) {
            window.location.href = window.location.pathname + "?" + $.param({'success': 'true'});
          } else {
            $('#error .modal-body .text-danger').text(response['error']);
            $('#error').modal('show');
          }
        }
      });
    });
  });
</script>

<script>
  $(document).ready(function () {
    $('.card-header').append('<a class="btn btn-primary" href="/admin/groups/create"><span class="bx bx-plus me-1"></span> Aggiungi</a>');
  })
</script>